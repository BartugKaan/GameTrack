@model IEnumerable<Game>

@{
    ViewData["Title"] = "Home";
}

<div class="container text-center my-2">
    <div class="mb-4">
        <h1 class="hero-title display-4 fw-bold text-purple">GameTrack</h1>
        <p class="lead text-muted">Track your game collection and share your reviews with others.</p>
    </div>
    <div class="d-flex justify-content-center">
        <a href="#" class="btn btn-success btn-lg me-3">Create a free account</a>
        <div class="align-self-center">
            <p class="mb-0">or <a href="#" class="login-link text-decoration-underline">log in</a> if you have an account</p>
        </div>
    </div>
</div>


<div class="container mt-5">
    <div class="row align-items-center">
        <div class="col-md-6">
            <img src="~/img/HeroImage.png" class="img-fluid" alt="Hero Image">
        </div>
        <div class="col-md-6">
            <div class="feature mb-4">
                <h2 class="fw-bold"><i class="bi bi-controller me-2"></i>Track your game collection</h2>
                <p class="text-muted">Keep track of your game collection by adding games you own, have played, or want to play.</p>
            </div>
            <div class="feature mb-4">
                <h2 class="fw-bold"><i class="bi bi-chat-dots me-2"></i>Share your reviews</h2>
                <p class="text-muted">Share your reviews with others and read reviews from other users.</p>
            </div>
            <div class="feature">
                <h2 class="fw-bold"><i class="bi bi-search me-2"></i>Discover new games</h2>
                <p class="text-muted">Discover new games by browsing the game library and reading reviews from other users.</p>
            </div>
        </div>
    </div>
</div>


<div class="container mt-5">
    <h2 class="mb-4">Game Library</h2>
    <div class="row">
        @if (Model != null && Model.Any())
        {
            foreach (var game in Model)
            {
                <div class="col-md-4 mb-4">
                    <div class="card shadow-sm">
                        <img src="~/img/@game.Image" class="card-img-top" alt="@game.Title" style="height: 200px; object-fit: cover;">
                        <div class="card-body">
                            <h5 class="card-title">@game.Title</h5>
                            <p class="card-text">
                                <strong>Genre:</strong>
                                @{
                                    var genreColor = game.GenreNavigation?.Name switch
                                    {
                                        "Action" => "btn-danger",        
                                        "Adventure" => "btn-success",    
                                        "RPG" => "btn-primary",          
                                        "Simulation" => "btn-info",      
                                        "Strategy" => "btn-warning",     
                                        "Sports" => "btn-light",         
                                        "Puzzle" => "btn-dark",          
                                        "FPS" => "btn-secondary",        
                                        "MMO" => "btn-purple",          
                                        _ => "btn-secondary"             
                                    };
                                }
                                <span class="btn btn-sm @genreColor rounded-pill">
                                    @game.GenreNavigation?.Name
                                </span>
                            </p>
                            <p class="card-text"><strong>Developer:</strong> @game.Developer</p>
                            <p class="card-text"><strong>Finished Date:</strong> @game.FinishedDate.ToString("dd-MM-yyyy")</p>
                            <p class="card-text"><strong>Rating:</strong> @game.Rating / 10</p>
                            <p class="card-text">@game.Review?.Substring(0, Math.Min(100, game.Review.Length))...</p>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12">
                <p class="text-center">No games found. <a asp-controller="Game" asp-action="Create">Let's add some Game.</a></p>
            </div>
        }
    </div>
</div>
